version: '3'

tasks:
  run:
    cmds:
      - bend run src/main.bend -s
    desc: Run the main.bend file
      
  runc:
    cmds:
      - bend run-c src/main.bend -s
    desc: Run the main.bend file parallelly
  
  lib-gen:
    cmds:
      - mkdir -p src/gen && cat src/lib/*.bend > src/gen/merged_lib.bend && echo "Merged lib files in src/gen/merged_lib.bend"
    desc: 
      Generate a merged lib file from all the lib files in /src/lib
  
  test:
    cmds:
      - echo "Running tests..."
      - echo "Running test 1..."

  benchmark:
    cmds: 
      - 'sh scripts/benchmark.sh'

  benchmark-par:
    cmds: 
      - 'sh scripts/benchmark_parallel.sh'